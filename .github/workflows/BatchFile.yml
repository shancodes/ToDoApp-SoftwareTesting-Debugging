name: BatchFile

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
    
  
jobs:
  build:
  
    runs-on: ubuntu-latest
    
    steps:
     - uses: actions/checkout@v2
     
     - name: Set up JDK 1.8.0.342
        uses:actions/setup-java@v3
        with:distribution:"corretto"
          java-version:"18"
    
     - name: Build
        run:mvn --batch-mode -DskipTests package
      
     - name: Test
        run:mvn --batch-mode -Dmaven.test.failure.ignore=true test
        
     - name: Report
        uses:dorny/test-reporter@v1
        if:always()
        with:name:Maven Tests
          path:"**/test-results.trx"   
          reporter:java-junit
          fail-on-error:true
      
